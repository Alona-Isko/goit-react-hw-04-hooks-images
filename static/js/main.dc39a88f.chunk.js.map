{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/apiServer.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","Searchbar","getSearchValue","useState","query","setQuery","className","s","onSubmit","e","preventDefault","trim","toast","SearchForm","type","SearchFormButton","SearchFormButton__label","SearchForm__input","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","ImageGalleryItem","image","onImageClick","src","webformatURL","alt","tags","ImageGalleryItem__image","onClick","largeImageURL","propType","PropTypes","shape","string","func","ImageGallery","data","map","id","Button","axios","defaults","baseURL","API_KEY","fetchImages","page","get","then","res","hits","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","event","currentTarget","Spiner","Loader","color","height","width","App","setPage","setData","showModal","setShowModal","setLargeImageURL","loading","setLoading","finally","scrollLoadMore","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","length","el","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc39a88f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2bMjx\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3uipi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33VRv\",\"Modal\":\"Modal_Modal__32Ost\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__36Ves\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3n54L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__v-Wrk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Kmsw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3G2Vc\",\"SearchForm\":\"Searchbar_SearchForm__2dg_J\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1eyHB\",\"SearchFormButton__label\":\"Searchbar_SearchFormButton__label__1oCn7\",\"SearchForm__input\":\"Searchbar_SearchForm__input__aCk0S\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nexport default function Searchbar({ getSearchValue }) {\r\n    const [query, setQuery] = useState('');\r\n    \r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (query.trim() === '') {\r\n            toast('Your query is empty');\r\n            return;\r\n        }\r\n\r\n        getSearchValue(query);\r\n        setQuery('');\r\n    };\r\n\r\n    const handleInputChange = e => {\r\n        setQuery(e.target.value.toLowerCase());\r\n    };\r\n\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form\r\n                    onSubmit={handleSubmit}\r\n                    className={s.SearchForm}\r\n                >\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButton__label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchForm__input}\r\n                        type=\"text\"\r\n                        value={query}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </form>\r\n             </header>\r\n        )\r\n};\r\n\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image, onImageClick }) {\r\n    return (\r\n      <li\r\n        className={s.ImageGalleryItem}>\r\n            <img\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                className={s.ImageGalleryItem__image}\r\n                onClick={() => onImageClick(image.largeImageURL)}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.propType = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n  }),\r\n  onImageClick: PropTypes.func,\r\n};","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\n\r\nexport default function ImageGallery({ data, onImageClick }) {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {data.map(image => {\r\n                return (\r\n                    <ImageGalleryItem\r\n                        key={image.id}\r\n                        image={image}\r\n                        onImageClick={onImageClick}\r\n                    />\r\n                )\r\n            })}\r\n        </ul>\r\n    );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })),\r\n  onImageClick: PropTypes.func,\r\n};\r\n\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n    return (\r\n        <button\r\n            type=\"button\"\r\n            className={s.Button}\r\n            onClick={onClick}\r\n        >\r\n            Load more\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = `https://pixabay.com/api`;\r\nconst API_KEY = `23238437-0207b31bcaea78a79b03733f3`;\r\n\r\nconst fetchImages = (query = '', page = 1) => {\r\n    return axios\r\n        .get(\r\n        `/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    // .then(x => new Promise(resolve => setTimeout(() => resolve(x), 1000)))   \r\n    .then(res => res.data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, largeImageURL }) {\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n  \r\n  \r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n    \r\n  \r\n    return createPortal(\r\n        <div \r\n            className={s.Overlay}\r\n            onClick={handleBackdropClick}\r\n        >\r\n            <div className={s.Modal}>\r\n                <img src={largeImageURL} alt=\"\" />\r\n            </div>\r\n        </div>,\r\n        modalRoot,\r\n    );\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from './Loader.module.css';\r\n\r\nconst Spiner = () => (\r\n    <div className={s.Loader}>        \r\n        <Loader\r\n            type=\"BallTriangle\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Spiner;","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport fetchImages from './services/apiServer';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport s from './App.module.css';\n\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [loading, setLoading] = useState(false);\n\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    setLoading(true);\n    fetchImages(query, page)\n      .then(data => {\n        setData(data);\n        setPage(page);\n      })\n      .finally(setLoading(false));\n  }, [query, page]);\n  \n\n  const getSearchValue = query => {\n    setQuery(query);\n    setPage(1);\n    setData([]);\n  };\n\n\n  const onLoadMore = () => {\n    setLoading(true);\n    fetchImages(query, page)\n      .then(el => {\n        setData([...data, ...el]);\n        setPage(page + 1);\n        scrollLoadMore();\n      })\n      .finally(setLoading(false));\n  };\n\n\n  const scrollLoadMore = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n\n  const openModalClick = largeImageURL => {\n    setLargeImageURL(largeImageURL);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevState => !prevState);\n    setLargeImageURL('');\n  };\n\n\n    return (\n      <div className={s.App}>\n        <Searchbar\n          getSearchValue={getSearchValue}\n        />\n        <ToastContainer\n          autoClose={3000}\n        />\n        <ImageGallery\n          data={data}\n          onImageClick={openModalClick}\n        />\n        {loading && <Loader />}\n        {data.length > 0 && data.length >= 12 && (\n          <Button\n            onClick={onLoadMore}\n          />\n        )}\n        {showModal && (\n          <Modal\n            onClose={toggleModal}\n            largeImageURL={largeImageURL}\n          />)}\n      </div>\n    )\n};\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}